/*! htmlslice - v0.1.0 - 2/17/2012
* https://github.com/cowboy/htmlslice
* Copyright (c) 2012 "Cowboy" Ben Alman; Licensed MIT */
(function(a){function d(a){return(a||"").replace(c,function(a,b){return b?" ":""}).length}function e(a){if(this instanceof e)this.html=a,this.length=d(a);else return new e(a)}var b=/<(\/)?([^ \/>]*).*?(\/)?>|./,c=/<.*?(\/)?>/g;a.HtmlSlice=e,e.prototype.toString=function(){return this.html},e.prototype.slice=function(a,c){a==null?a=0:a<0&&(a+=this.length),a=Math.min(Math.max(a,0),this.length),c==null?c=this.length:c<0&&(c+=this.length),c=Math.min(Math.max(c,0),this.length);var d=[],e=[],f=0,g=0,h="",i;while(g<c&&(i=this.html.slice(f).match(b)))f+=i[0].length,i[1]?(g<=a&&d.pop(),e.shift()):i[2]&&!i[3]?(g<=a&&d.push(i[0]),e.unshift("</"+i[2]+">")):g++===a&&(h+=d.join("")),g>a&&(h+=i[0]);return h+e.join("")}})(typeof exports=="object"&&exports||this)